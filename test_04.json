{
  "feedback": {
    "status": "fail",
    "reason": "Query cost (46267) exceeds limit (1000). Sequential scan on orders with 500,000 rows",
    "suggestion": "CREATE INDEX idx_orders_id ON orders(id);",
    "priority": "HIGH"
  },
  "technical_analysis": {
    "total_cost": 46267.1,
    "execution_time_ms": 159.665,
    "planning_time_ms": 2.844,
    "bottlenecks": [
      {
        "node_type": "Seq Scan",
        "severity": "HIGH",
        "reason": "Sequential scan on orders with 500,000 rows",
        "suggestion": "CREATE INDEX idx_orders_id ON orders(id);",
        "cost": 32345.0,
        "table": "orders",
        "rows": 500000,
        "cost_percentage": null
      },
      {
        "node_type": "Hash Join",
        "severity": "MEDIUM",
        "reason": "Node accounts for 84.7% of total query cost",
        "suggestion": "Review this operation - it dominates query execution time",
        "cost": 39192.1,
        "table": null,
        "rows": null,
        "cost_percentage": 84.70835647792924
      },
      {
        "node_type": "Hash Join",
        "severity": "MEDIUM",
        "reason": "Join on columns likely benefits from index on inner relation",
        "suggestion": "CREATE INDEX idx_customer_join ON customer(c_custkey);",
        "cost": null,
        "table": "customer",
        "rows": null,
        "cost_percentage": null
      }
    ],
    "summary": "Found 3 bottleneck(s): 1 HIGH severity issue(s), 2 MEDIUM severity issue(s). Total cost: 46267.10",
    "optimization_priority": "HIGH"
  },
  "explain_plan_dry": [
    {
      "Plan": {
        "Node Type": "Gather",
        "Parallel Aware": false,
        "Async Capable": false,
        "Startup Cost": 5397.89,
        "Total Cost": 46267.1,
        "Plan Rows": 60750,
        "Plan Width": 23,
        "Output": [
          "o.o_orderkey",
          "c.c_name"
        ],
        "Workers Planned": 2,
        "Single Copy": false,
        "Shared Hit Blocks": 0,
        "Shared Read Blocks": 0,
        "Shared Dirtied Blocks": 0,
        "Shared Written Blocks": 0,
        "Local Hit Blocks": 0,
        "Local Read Blocks": 0,
        "Local Dirtied Blocks": 0,
        "Local Written Blocks": 0,
        "Temp Read Blocks": 0,
        "Temp Written Blocks": 0,
        "Plans": [
          {
            "Node Type": "Hash Join",
            "Parent Relationship": "Outer",
            "Parallel Aware": true,
            "Async Capable": false,
            "Join Type": "Inner",
            "Startup Cost": 4397.89,
            "Total Cost": 39192.1,
            "Plan Rows": 25312,
            "Plan Width": 23,
            "Output": [
              "o.o_orderkey",
              "c.c_name"
            ],
            "Inner Unique": false,
            "Hash Cond": "(o.o_custkey = c.c_custkey)",
            "Shared Hit Blocks": 0,
            "Shared Read Blocks": 0,
            "Shared Dirtied Blocks": 0,
            "Shared Written Blocks": 0,
            "Local Hit Blocks": 0,
            "Local Read Blocks": 0,
            "Local Dirtied Blocks": 0,
            "Local Written Blocks": 0,
            "Temp Read Blocks": 0,
            "Temp Written Blocks": 0,
            "Plans": [
              {
                "Node Type": "Seq Scan",
                "Parent Relationship": "Outer",
                "Parallel Aware": true,
                "Async Capable": false,
                "Relation Name": "orders",
                "Schema": "public",
                "Alias": "o",
                "Startup Cost": 0.0,
                "Total Cost": 32345.0,
                "Plan Rows": 625000,
                "Plan Width": 8,
                "Output": [
                  "o.o_orderkey",
                  "o.o_custkey",
                  "o.o_orderstatus",
                  "o.o_totalprice",
                  "o.o_orderdate",
                  "o.o_orderpriority",
                  "o.o_clerk",
                  "o.o_shippriority",
                  "o.o_comment"
                ],
                "Shared Hit Blocks": 0,
                "Shared Read Blocks": 0,
                "Shared Dirtied Blocks": 0,
                "Shared Written Blocks": 0,
                "Local Hit Blocks": 0,
                "Local Read Blocks": 0,
                "Local Dirtied Blocks": 0,
                "Local Written Blocks": 0,
                "Temp Read Blocks": 0,
                "Temp Written Blocks": 0
              },
              {
                "Node Type": "Hash",
                "Parent Relationship": "Inner",
                "Parallel Aware": true,
                "Async Capable": false,
                "Startup Cost": 4366.25,
                "Total Cost": 4366.25,
                "Plan Rows": 2531,
                "Plan Width": 23,
                "Output": [
                  "c.c_name",
                  "c.c_custkey"
                ],
                "Shared Hit Blocks": 0,
                "Shared Read Blocks": 0,
                "Shared Dirtied Blocks": 0,
                "Shared Written Blocks": 0,
                "Local Hit Blocks": 0,
                "Local Read Blocks": 0,
                "Local Dirtied Blocks": 0,
                "Local Written Blocks": 0,
                "Temp Read Blocks": 0,
                "Temp Written Blocks": 0,
                "Plans": [
                  {
                    "Node Type": "Seq Scan",
                    "Parent Relationship": "Outer",
                    "Parallel Aware": true,
                    "Async Capable": false,
                    "Relation Name": "customer",
                    "Schema": "public",
                    "Alias": "c",
                    "Startup Cost": 0.0,
                    "Total Cost": 4366.25,
                    "Plan Rows": 2531,
                    "Plan Width": 23,
                    "Output": [
                      "c.c_name",
                      "c.c_custkey"
                    ],
                    "Filter": "(c.c_nationkey = 5)",
                    "Shared Hit Blocks": 0,
                    "Shared Read Blocks": 0,
                    "Shared Dirtied Blocks": 0,
                    "Shared Written Blocks": 0,
                    "Local Hit Blocks": 0,
                    "Local Read Blocks": 0,
                    "Local Dirtied Blocks": 0,
                    "Local Written Blocks": 0,
                    "Temp Read Blocks": 0,
                    "Temp Written Blocks": 0
                  }
                ]
              }
            ]
          }
        ]
      },
      "Planning": {
        "Shared Hit Blocks": 132,
        "Shared Read Blocks": 0,
        "Shared Dirtied Blocks": 0,
        "Shared Written Blocks": 0,
        "Local Hit Blocks": 0,
        "Local Read Blocks": 0,
        "Local Dirtied Blocks": 0,
        "Local Written Blocks": 0,
        "Temp Read Blocks": 0,
        "Temp Written Blocks": 0
      }
    }
  ],
  "explain_plan_analyze": [
    {
      "Plan": {
        "Node Type": "Gather",
        "Parallel Aware": false,
        "Async Capable": false,
        "Startup Cost": 5397.89,
        "Total Cost": 46267.1,
        "Plan Rows": 60750,
        "Plan Width": 23,
        "Actual Startup Time": 34.983,
        "Actual Total Time": 157.066,
        "Actual Rows": 59706,
        "Actual Loops": 1,
        "Output": [
          "o.o_orderkey",
          "c.c_name"
        ],
        "Workers Planned": 2,
        "Workers Launched": 2,
        "Single Copy": false,
        "Shared Hit Blocks": 4801,
        "Shared Read Blocks": 25071,
        "Shared Dirtied Blocks": 0,
        "Shared Written Blocks": 0,
        "Local Hit Blocks": 0,
        "Local Read Blocks": 0,
        "Local Dirtied Blocks": 0,
        "Local Written Blocks": 0,
        "Temp Read Blocks": 0,
        "Temp Written Blocks": 0,
        "Plans": [
          {
            "Node Type": "Hash Join",
            "Parent Relationship": "Outer",
            "Parallel Aware": true,
            "Async Capable": false,
            "Join Type": "Inner",
            "Startup Cost": 4397.89,
            "Total Cost": 39192.1,
            "Plan Rows": 25312,
            "Plan Width": 23,
            "Actual Startup Time": 15.003,
            "Actual Total Time": 131.468,
            "Actual Rows": 19902,
            "Actual Loops": 3,
            "Output": [
              "o.o_orderkey",
              "c.c_name"
            ],
            "Inner Unique": false,
            "Hash Cond": "(o.o_custkey = c.c_custkey)",
            "Shared Hit Blocks": 4801,
            "Shared Read Blocks": 25071,
            "Shared Dirtied Blocks": 0,
            "Shared Written Blocks": 0,
            "Local Hit Blocks": 0,
            "Local Read Blocks": 0,
            "Local Dirtied Blocks": 0,
            "Local Written Blocks": 0,
            "Temp Read Blocks": 0,
            "Temp Written Blocks": 0,
            "Workers": [
              {
                "Worker Number": 0,
                "Actual Startup Time": 7.294,
                "Actual Total Time": 123.875,
                "Actual Rows": 18989,
                "Actual Loops": 1,
                "Shared Hit Blocks": 662,
                "Shared Read Blocks": 7936,
                "Shared Dirtied Blocks": 0,
                "Shared Written Blocks": 0,
                "Local Hit Blocks": 0,
                "Local Read Blocks": 0,
                "Local Dirtied Blocks": 0,
                "Local Written Blocks": 0,
                "Temp Read Blocks": 0,
                "Temp Written Blocks": 0
              },
              {
                "Worker Number": 1,
                "Actual Startup Time": 3.734,
                "Actual Total Time": 121.609,
                "Actual Rows": 20315,
                "Actual Loops": 1,
                "Shared Hit Blocks": 533,
                "Shared Read Blocks": 8576,
                "Shared Dirtied Blocks": 0,
                "Shared Written Blocks": 0,
                "Local Hit Blocks": 0,
                "Local Read Blocks": 0,
                "Local Dirtied Blocks": 0,
                "Local Written Blocks": 0,
                "Temp Read Blocks": 0,
                "Temp Written Blocks": 0
              }
            ],
            "Plans": [
              {
                "Node Type": "Seq Scan",
                "Parent Relationship": "Outer",
                "Parallel Aware": true,
                "Async Capable": false,
                "Relation Name": "orders",
                "Schema": "public",
                "Alias": "o",
                "Startup Cost": 0.0,
                "Total Cost": 32345.0,
                "Plan Rows": 625000,
                "Plan Width": 8,
                "Actual Startup Time": 1.202,
                "Actual Total Time": 59.786,
                "Actual Rows": 500000,
                "Actual Loops": 3,
                "Output": [
                  "o.o_orderkey",
                  "o.o_custkey",
                  "o.o_orderstatus",
                  "o.o_totalprice",
                  "o.o_orderdate",
                  "o.o_orderpriority",
                  "o.o_clerk",
                  "o.o_shippriority",
                  "o.o_comment"
                ],
                "Shared Hit Blocks": 1024,
                "Shared Read Blocks": 25071,
                "Shared Dirtied Blocks": 0,
                "Shared Written Blocks": 0,
                "Local Hit Blocks": 0,
                "Local Read Blocks": 0,
                "Local Dirtied Blocks": 0,
                "Local Written Blocks": 0,
                "Temp Read Blocks": 0,
                "Temp Written Blocks": 0,
                "Workers": [
                  {
                    "Worker Number": 0,
                    "Actual Startup Time": 2.314,
                    "Actual Total Time": 60.953,
                    "Actual Rows": 476111,
                    "Actual Loops": 1,
                    "Shared Hit Blocks": 346,
                    "Shared Read Blocks": 7936,
                    "Shared Dirtied Blocks": 0,
                    "Shared Written Blocks": 0,
                    "Local Hit Blocks": 0,
                    "Local Read Blocks": 0,
                    "Local Dirtied Blocks": 0,
                    "Local Written Blocks": 0,
                    "Temp Read Blocks": 0,
                    "Temp Written Blocks": 0
                  },
                  {
                    "Worker Number": 1,
                    "Actual Startup Time": 1.237,
                    "Actual Total Time": 61.385,
                    "Actual Rows": 512866,
                    "Actual Loops": 1,
                    "Shared Hit Blocks": 346,
                    "Shared Read Blocks": 8576,
                    "Shared Dirtied Blocks": 0,
                    "Shared Written Blocks": 0,
                    "Local Hit Blocks": 0,
                    "Local Read Blocks": 0,
                    "Local Dirtied Blocks": 0,
                    "Local Written Blocks": 0,
                    "Temp Read Blocks": 0,
                    "Temp Written Blocks": 0
                  }
                ]
              },
              {
                "Node Type": "Hash",
                "Parent Relationship": "Inner",
                "Parallel Aware": true,
                "Async Capable": false,
                "Startup Cost": 4366.25,
                "Total Cost": 4366.25,
                "Plan Rows": 2531,
                "Plan Width": 23,
                "Actual Startup Time": 13.123,
                "Actual Total Time": 13.124,
                "Actual Rows": 1984,
                "Actual Loops": 3,
                "Output": [
                  "c.c_name",
                  "c.c_custkey"
                ],
                "Hash Buckets": 8192,
                "Original Hash Buckets": 8192,
                "Hash Batches": 1,
                "Original Hash Batches": 1,
                "Peak Memory Usage": 448,
                "Shared Hit Blocks": 3585,
                "Shared Read Blocks": 0,
                "Shared Dirtied Blocks": 0,
                "Shared Written Blocks": 0,
                "Local Hit Blocks": 0,
                "Local Read Blocks": 0,
                "Local Dirtied Blocks": 0,
                "Local Written Blocks": 0,
                "Temp Read Blocks": 0,
                "Temp Written Blocks": 0,
                "Workers": [
                  {
                    "Worker Number": 0,
                    "Actual Startup Time": 4.536,
                    "Actual Total Time": 4.536,
                    "Actual Rows": 357,
                    "Actual Loops": 1,
                    "Shared Hit Blocks": 220,
                    "Shared Read Blocks": 0,
                    "Shared Dirtied Blocks": 0,
                    "Shared Written Blocks": 0,
                    "Local Hit Blocks": 0,
                    "Local Read Blocks": 0,
                    "Local Dirtied Blocks": 0,
                    "Local Written Blocks": 0,
                    "Temp Read Blocks": 0,
                    "Temp Written Blocks": 0
                  },
                  {
                    "Worker Number": 1,
                    "Actual Startup Time": 2.049,
                    "Actual Total Time": 2.05,
                    "Actual Rows": 154,
                    "Actual Loops": 1,
                    "Shared Hit Blocks": 91,
                    "Shared Read Blocks": 0,
                    "Shared Dirtied Blocks": 0,
                    "Shared Written Blocks": 0,
                    "Local Hit Blocks": 0,
                    "Local Read Blocks": 0,
                    "Local Dirtied Blocks": 0,
                    "Local Written Blocks": 0,
                    "Temp Read Blocks": 0,
                    "Temp Written Blocks": 0
                  }
                ],
                "Plans": [
                  {
                    "Node Type": "Seq Scan",
                    "Parent Relationship": "Outer",
                    "Parallel Aware": true,
                    "Async Capable": false,
                    "Relation Name": "customer",
                    "Schema": "public",
                    "Alias": "c",
                    "Startup Cost": 0.0,
                    "Total Cost": 4366.25,
                    "Plan Rows": 2531,
                    "Plan Width": 23,
                    "Actual Startup Time": 0.041,
                    "Actual Total Time": 12.407,
                    "Actual Rows": 1984,
                    "Actual Loops": 3,
                    "Output": [
                      "c.c_name",
                      "c.c_custkey"
                    ],
                    "Filter": "(c.c_nationkey = 5)",
                    "Rows Removed by Filter": 48016,
                    "Shared Hit Blocks": 3585,
                    "Shared Read Blocks": 0,
                    "Shared Dirtied Blocks": 0,
                    "Shared Written Blocks": 0,
                    "Local Hit Blocks": 0,
                    "Local Read Blocks": 0,
                    "Local Dirtied Blocks": 0,
                    "Local Written Blocks": 0,
                    "Temp Read Blocks": 0,
                    "Temp Written Blocks": 0,
                    "Workers": [
                      {
                        "Worker Number": 0,
                        "Actual Startup Time": 0.035,
                        "Actual Total Time": 4.123,
                        "Actual Rows": 357,
                        "Actual Loops": 1,
                        "Shared Hit Blocks": 220,
                        "Shared Read Blocks": 0,
                        "Shared Dirtied Blocks": 0,
                        "Shared Written Blocks": 0,
                        "Local Hit Blocks": 0,
                        "Local Read Blocks": 0,
                        "Local Dirtied Blocks": 0,
                        "Local Written Blocks": 0,
                        "Temp Read Blocks": 0,
                        "Temp Written Blocks": 0
                      },
                      {
                        "Worker Number": 1,
                        "Actual Startup Time": 0.049,
                        "Actual Total Time": 1.822,
                        "Actual Rows": 154,
                        "Actual Loops": 1,
                        "Shared Hit Blocks": 91,
                        "Shared Read Blocks": 0,
                        "Shared Dirtied Blocks": 0,
                        "Shared Written Blocks": 0,
                        "Local Hit Blocks": 0,
                        "Local Read Blocks": 0,
                        "Local Dirtied Blocks": 0,
                        "Local Written Blocks": 0,
                        "Temp Read Blocks": 0,
                        "Temp Written Blocks": 0
                      }
                    ]
                  }
                ]
              }
            ]
          }
        ]
      },
      "Planning": {
        "Shared Hit Blocks": 132,
        "Shared Read Blocks": 0,
        "Shared Dirtied Blocks": 0,
        "Shared Written Blocks": 0,
        "Local Hit Blocks": 0,
        "Local Read Blocks": 0,
        "Local Dirtied Blocks": 0,
        "Local Written Blocks": 0,
        "Temp Read Blocks": 0,
        "Temp Written Blocks": 0
      },
      "Planning Time": 2.844,
      "Triggers": [],
      "Execution Time": 159.665
    }
  ],
  "hypopg_proof": null
}