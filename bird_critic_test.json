[
  {
    "task_id": "test_001",
    "db_id": "4",
    "user_query": "Find all members who attended the March Meeting event",
    "buggy_sql": "SELECT m.* FROM member m JOIN attendance a ON m.member_id = a.link_to_member WHERE a.link_to_event = 'March Meeting'",
    "solution_sql": "SELECT m.* FROM member m JOIN attendance a ON m.member_id = a.link_to_member JOIN event e ON a.link_to_event = e.event_id WHERE e.event_name = 'March Meeting'",
    "efficiency": true
  },
  {
    "task_id": "test_002",
    "db_id": "4",
    "user_query": "Get the total spent amount for each budget category",
    "buggy_sql": "SELECT category, SUM(spent) as total_spent FROM budget GROUP BY category ORDER BY total_spent DESC",
    "solution_sql": "SELECT category, SUM(spent) as total_spent FROM budget WHERE spent IS NOT NULL GROUP BY category ORDER BY total_spent DESC",
    "efficiency": true
  },
  {
    "task_id": "test_003",
    "db_id": "4", 
    "user_query": "Find members who have approved expenses over $50",
    "buggy_sql": "SELECT m.first_name, m.last_name, e.cost FROM member m JOIN expense e ON m.member_id = e.link_to_member WHERE e.approved = 'true' AND e.cost > 50",
    "solution_sql": "SELECT m.first_name, m.last_name, e.cost FROM member m JOIN expense e ON m.member_id = e.link_to_member WHERE e.approved = true AND e.cost > 50",
    "efficiency": false
  },
  {
    "task_id": "test_004",
    "db_id": "4",
    "user_query": "Count members by department", 
    "buggy_sql": "SELECT department, COUNT(*) as member_count FROM member GROUP BY department",
    "solution_sql": "SELECT ma.department, COUNT(m.member_id) as member_count FROM member m JOIN major ma ON m.link_to_major = ma.major_id GROUP BY ma.department ORDER BY member_count DESC",
    "efficiency": true
  },
  {
    "task_id": "test_005",
    "db_id": "4",
    "user_query": "Find events with remaining budget greater than spent amount",
    "buggy_sql": "SELECT e.event_name, b.remaining, b.spent FROM event e JOIN budget b ON e.event_id = b.link_to_event WHERE b.remaining > b.spent",
    "solution_sql": "SELECT e.event_name, b.remaining, b.spent FROM event e JOIN budget b ON e.event_id = b.link_to_event WHERE b.remaining > b.spent AND b.event_status = 'Open'",
    "efficiency": true
  }
]
